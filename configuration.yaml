homeassistant:
  name: Thuis    
  latitude: !secret latitude    
  longitude: !secret longitude
  elevation: 3    
  unit_system: metric  
  customize: !include customize.yaml    
  packages: !include_dir_named packages
  time_zone: Europe/Amsterdam

  auth_providers:
    - type: trusted_networks
      trusted_networks:
        - !secret trustedip_1
        - !secret trustedip_2

map:

smartir:
  update_branch: rc

mqtt:
  broker: !secret mqtt_broker
  port: !secret mqtt_port
  client_id: homeassistant
  discovery: true
  discovery_prefix: homeassistant
  username: !secret mqtt_username
  password: !secret mqtt_password

hacs:
  token: !secret hacs_token 

zone: !include zones.yaml

default_config:

panel_iframe:
  ide:
    title: IDE
    icon: mdi:code-braces
    url: !secret ide_url 

  grafana:
    title: Grafana
    icon: mdi:chart-timeline
    url: !secret grafana_url 


panel_custom:
  - name: floorplan
    sidebar_title: Floorplan
    sidebar_icon: mdi:home
    url_path: floorplan
    config: !include floorplan.yaml

  - name: hassio-main
    sidebar_title: AdGuard Home
    sidebar_icon: mdi:block-helper
    js_url: /api/hassio/app/entrypoint.js
    url_path: adguard
    embed_iframe: true
    require_admin: false
    config:
      ingress: a0d7b954_adguard

system_health:

browser:

lovelace:
  mode: yaml

frontend:
  themes: !include themes.yaml

rflink:
  port: /dev/serial/by-id/usb-Arduino__www.arduino.cc__0042_85734323630351406012-if00

influxdb:
  host: a0d7b954-influxdb
  port: !secret influxdb_port
  database: !secret influxdb_database
  username: !secret influxdb_username  
  password: !secret influxdb_password
  max_retries: 3
  default_measurement: state

http:
  base_url: !secret base_url
  ssl_certificate: /ssl/fullchain.pem
  ssl_key: /ssl/privkey.pem
  ip_ban_enabled: True
  login_attempts_threshold: 3

api:

binary_sensor:
  - platform: ping
    host: !secret host_imac
    name: iMac (ping)
    scan_interval: 60
    count: 2
  - platform: ping
    host: !secret host_imac2
    name: iMac2 (ping)
    scan_interval: 60
    count: 2
  - platform: ping
    host: !secret host_tv
    name: Samsung TV (ping)
    scan_interval: 5
    count: 2
  - platform: ping
    host: !secret host_soundbar 
    name: Soundbar (ping)
    count: 2

light:
  - platform: rflink
    devices:
      newkaku_01d610ee_1: {}   

switch:
  - platform: rflink
    devices:
      newkaku_01d610ee_2: {}

  - platform: broadlink
    host: 192.168.178.32
    mac: 'C8:F7:42:75:26:93'
    timeout: 15
    retry: 5
    type: 'rm_mini'
    switches:
      broadlink_samsungtv:
        friendly_name: "Samsung TV"
        command_on: 'JgBGAJKVETkRORA6ERQRFBEUERQRFBE5ETkQOhAVEBUQFREUEBUQOhEUERQRORE5EBURFBA6EBUQOhE5EBUQFRA6EDoRFBEADQUAAA=='
        command_off: 'JgBGAJWVEjgSOBI4EhISEhISEhISEhI4EjgSOBISEhISEhISEhISEhISEhISOBI4EhISEhI4EjgSOBI4EhISEhI4EjgSEhIABi0NBQ'

camera:
  - platform: buienradar
    name: Buienradar

  - platform: local_file
    file_path: /config/www/snapshots/deurbel.jpg

proximity:
  martijn:
    zone: home
    devices:
      device_tracker.life360_martijn
    tolerance: 50
    unit_of_measurement: km
  jildou:
    zone: home
    devices:
      device_tracker.life360_jildou
    tolerance: 50
    unit_of_measurement: km

updater:

recorder:
  db_url: !secret mariadb_url
  purge_keep_days: 2
  include:
    domains:
      - sensor

hue:
  bridges:
    - host: !secret hue_host

discovery:

weather:
  - platform: buienradar

google_assistant:
  project_id: !secret google_assistant_project_id
  api_key: !secret google_assistant_api
  expose_by_default: false
  exposed_domains:
    - switch
    - script
    - media_player
  entity_config:
    media_player.mediabox_next:
      name: Mediabox Next
      expose: true
    switch.newkaku_01d610ee_2:
      expose: true
    switch.broadlink_samsungtv: 
      name: TV
      expose: true 
    script.broadlink_plex_start:
      name: Plex
      expose: true 
    script.broadlink_netflix_start:
      name: Netflix
      expose: true 
    script.broadlink_plex_pauze:
      name: Plex pauze
      expose: true
    script.broadlink_plex_play:
      name: Plex play
      expose: true    
    script.turn_everything_off:
      name: Turn everything off
      expose: true

dialogflow:

logger:
  default: warning
  logs:
    buienradar.buienradar_json: error
    homeassistant.components.input_select: error
    homeassistant.helpers.condition: error
    homeassistant.helpers.entity: error
    homeassistant.components.media_player: error
    homeassistant.loader: error
    homeassistant.setup: error
    homeassistant.components.binary_sensor: error

google:
  client_id: !secret google_client_id
  client_secret: !secret google_client_secret

vacuum:
  - platform: roomba
    host: !secret roomba_host
    username: !secret roomba_username
    password: !secret roomba_password

ios:
  push:
    categories:
      - name: Empty Shopping List
        identifier: 'empty_shopping_list'
        actions:
          - identifier: 'EMPTY'
            title: 'Empty'
            destructive: true
          - identifier: 'KEEP'
            title: 'Keep'
          
tts:
  - platform: google_translate
    language: 'nl'

# Media Players
media_player:

  - platform: plex
    scan_interval: 5

  - platform: samsungtv
    host: !secret host_tv
    port: !secret port_tv
    name: '[TV] Woonkamer'
    mac: !secret mac_tv

  - platform: samsung_multi_room
    name: "Soundbar"
    host: !secret host_soundbar
    max_volume: 20
    power_options: True

  - platform: smartir
    name: Samsung Smart TV
    unique_id: samsung_smart_tv
    device_code: 1060
    controller_data: 192.168.178.32
    power_sensor: binary_sensor.samsung_tv_ping

  - platform: ziggo-mediabox-next
    username: !secret ziggo_username
    password: !secret ziggo_password

shell_command:
  soundbar_radio_fav1: !secret soundbar_radio_fav1
  soundbar_radio_fav2: !secret soundbar_radio_fav2
  soundbar_radio_fav3: !secret soundbar_radio_fav3
  soundbar_radio_1: !secret soundbar_radio_1
  soundbar_radio_2: !secret soundbar_radio_2
  soundbar_radio_3: !secret soundbar_radio_3
  soundbar_radio_4: !secret soundbar_radio_4
  soundbar_radio_5: !secret soundbar_radio_5
  soundbar_radio_6: !secret soundbar_radio_6
  soundbar_radio_7: !secret soundbar_radio_7

media_extractor:

input_text:
  text_bar:
    name: text bar

input_datetime:
  vacuuming:
    name: Stofzuigen
    has_date: true

  mopping:
    name: Dweilen
    has_date: true

  cleaning_the_bathroom:
    name: Badkamer schoonmaken
    has_date: true

  clean_the_toilet:
    name: Toilet schoonmaken
    has_date: true

  dust_off:
    name: Afstoffen
    has_date: true

  change_bedding:
    name: Beddengoed verschonen
    has_date: true

  clean_up_studio:
    name: Studio opruimen
    has_date: true

sabnzbd:
  api_key: !secret sabnzbd_api
  host: !secret sabnzb_host
  port: !secret sabnzbd_port
  sensors:
    - current_status
    - speed
    - queue_size
    - queue_remaining
    - disk_size
    - disk_free
    - queue_count
    - day_size
    - week_size
    - month_size
    - total_size

# IFTTT
ifttt:
  key: !secret ifttt_api

notify:
  - name: Google Assistant Broadcast Message
    platform: rest
    resource: !secret google_assistant_broadcast

  - name: Google Assistant Command
    platform: rest
    resource: !secret google_assistant_command 

counter: 
  brievenbus:
    initial: 0
    step: 1
    icon: mdi:mailbox

shopping_list:

###################
plant: !include plants.yaml
group: !include groups.yaml
automation: !include_dir_merge_list automations
script: !include_dir_merge_named scripts
sensor: !include sensors.yaml
input_select: !include input_select.yaml 
